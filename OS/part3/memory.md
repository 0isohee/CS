# 메모리

### 논리 메모리 (=가상 메모리 영역)
- 프로세스가 보는 메모리 영역
- CPU가 프로세스를 실행하면서 보는 주소 값을 논리 주소/ 가상 주소라고 함
  
### 물리 메모리
- 실제로 사용되는 메모리 영역
- 실제로 메모리에서 사용되는 주소

### 연속 메모리 할당
멀티 프로세스 환경에서 여러 프로세스를 메모리에 연속적으로 로드하는 방법

1. 고정 분할 방식
- 메모리 영역을 분할한 뒤 각 영역에 프로세스를 할당하는 방식
- 분할된 영역의 크기는 서로 다를 수 있고, 분할된 크기는 고정됨
- 메모리에 올릴 수 있는 프로세스 수와 크기가 제한된다는 단점이 있음
- fragmentation (단편화) 문제가 발생할 수 있음.
ex) 7MB로 분할한 곳에, 8MB, 6MB 두개가 들어간다고 가정하면 6MB만 들어갈 수 있고 8MB는 들어가지 못함. 하지만 14MB가 있긴 하고 ㅠㅠ

2. 가변 분할 방식
- 할당할 프로세스의 크기에 따라 메모리 공간을 분할하는 방식
- 메모리 할당 알고리즘을 이용해 가용 메모리 공간에서 프로세스가 로드될 수 있는 메모리 공간 찾음
  1. 최초 적합
  - 가용 메모리 공간에서 프로세스 크기만큼 비어있는 메모리 공간 찾아서 차례대로 로드하는 방식

  2. 최적 적합
  - 할당하려는 프로세스 크기 이상인 가용 메모리 공간 중에서 가장 작은 공간에 프로세스를 할당하는 방식
  - 모든 가용메모리 공간을 탐색해야됨

  3. 최악 적합
  - 할당하려는 프로세스 크기 이상힌 가용 메모리 공간 중에서 가장 큰 공간에 프로세스를 할당하는 방식
  - 모든 가용메묄 공간 탐색해야됨

### 비연속 메모리 할당
1. 페이징 (Paging)
- 프로세스의 논리 메모리 영역과 물리 메모리 영역을 각각 일정한 크기의 페이지와 프레임으로 나눈다
- 페이지와 프레임에는 각각 번호를 할당해 프로세스의 페이지와 메모리의 프레임을 매핑함
- 페이지와 프레임을 매핑하는 데 페이지 테이블을 사용한다

1-1. 페이징 기법
  - 계층적 페이징 : 페이지 테이블을 다시 페이지로 나눠 페이지 테이블 자체를 페이징 하는 방식, 멀티 레벨 페이징이라고도 함
  - 해시 페이지 테이블 : 해시 테이블의 각 항목에 저장된 연결 리스트에 페이지 번호를 해싱한 뒤 가상 페이지 번호와 비교하는 방식
  - 역 페이지 테이블 : 프레임을 이용해 페이지를 찾는 방식, 페이지로 프레임을 찾는 기존 방식과 반대

2. 세그먼테이션 (Segmentation)
- 프로세스의 메모리 영역을 논리적 단위인 세그먼트로 분할하여 메모리를 할당함
- 논리적 단위는 파일 내 단위 함수, 프로세스, 스택, 힙과 같은 영역을 의미함
- 세그먼트의 논리 주소를 물리 주소로 매핑하여, 세그먼트 번호를 인덱스로 사용하고, 세그먼트별 시작주소인 base와 길이인 limit을 저장함

### 가상 메모리
- 프로세스의 일부만 메모리에 로드되고, 나머지는 디스크에 둔 상태로 프로세스를 실행하는 방식
- 프로그램이 메모리 크기에 대한 제약을 덜 받을 수 있음
- 동시에 많은 프로그램을 실행함으로 CPU 이용률, 처리율을 높일 수 있음.
- 필요한 영역만 메모리에 로드에 스와핑 횟수를 줄여서 프로그램 실행 속도를 높일 수 있음.

- 
